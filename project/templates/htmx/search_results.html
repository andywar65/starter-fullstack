{% load i18n %}
{% load fb_versions %}

{% include 'navbar.html' %}
<main class="flex-shrink-0">
  <div id="content" class="container">
    <div class="card mx-auto" style="max-width: 960px; margin-top: 60px; margin-bottom: 20px">
      {% if success %}
        <div class="card-header">
          <h3>{% translate 'Search' %}: "{{ search }}"</h3>
        </div>
        <div class="card-body">
          {% if articles %}
            <h5>{% translate 'Articles' %}</h5>
            {% for article in articles %}
              <ul>
                <li>
                  <span><a class="link-primary"
                    hx-get="{{ article.get_path }}"
                    hx-target="#content"
                    hx-url-push="{{ article.get_path }}">{{ article.title }}</a>
                    <em>{{ article.intro }}</em>
                    {{ article.date|date:"d M Y" }}</span>
                </li>
              </ul>
            {% endfor %}
          {% endif %}
        </div>
      {% else %}
        <div class="card-header">
          <h3>{% translate 'Null search' %}</h3>
        </div>
        <div class="card-body">
          <p>{% trans "We didn't find elements that satisfy your search" %}</p>
        </div>
      {% endif %}
    </div>
    {% if shots %}
      {% for shot in shots %}
        <div class="card mx-auto" style="margin-bottom: 20px;{{ shot.get_card_width }}">
          <div class="card-header">
            <h4>
              {{ shot.title | safe }}
            </h4>
          </div>
          <div class="card-body">
            {% if shot.shotgun_image %}
              {% for image in shot.shotgun_image.all %}
                <div class="text-center">
                  <figure class="figure">
                    <img class="figure-img img-fluid"
                      src="{% version image.fb_image 'shot' %}"
                      alt="{{ image.description }}">
                    <figcaption class="figure-caption">
                      {{ image.description }}
                    </figcaption>
                  </figure>
                </div>
              {% endfor %}
            {% endif %}
            <p>
              {{ shot.date|date:"d M Y" }}
            </p>
            <p>
              {{ shot.body | safe }}
            </p>
          </div>
        </div>
      {% endfor %}
    {% endif %}
  </div>
</main>
{% include 'footer.html' %}
